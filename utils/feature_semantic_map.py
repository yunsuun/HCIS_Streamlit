# utils/feature_semantic_map.py
# ------------------------------------------------------------
# Feature Semantic Map
# - feature별로 "높은 편 / 낮은 편"일 때의 해석 문장 템플릿
# - 템플릿은 가능한 한 '행태/맥락' 언어로 작성 (컬럼명/SHAP 노출 X)
# ------------------------------------------------------------

FEATURE_SEMANTIC_MAP = {
    # -------------------------
    # 신용카드/소비 행태
    # -------------------------
    "cc_util_mean": {
        "high": "신용카드 한도 사용이 지속적으로 높은 편이라, 소비 여력이 빠르게 소진될 수 있는 패턴입니다.",
        "low":  "신용카드 한도 사용이 낮은 편이라, 소비/신용 사용이 비교적 절제된 패턴입니다."
    },
    "cc_util_max": {
        "high": "일시적으로 신용카드 사용이 크게 치솟는 구간이 있어, 특정 시점에 자금 수요가 몰릴 가능성이 있습니다.",
        "low":  "신용카드 사용이 급격히 치솟는 패턴이 적어, 자금 수요 변동이 비교적 완만합니다."
    },

    # -------------------------
    # 분할상환/연체 패턴
    # -------------------------
    "inst_delay_rate": {
        "high": "과거 분할상환 과정에서 연체가 반복된 경향이 있어, 상환 일정 준수에 대한 추가 확인이 유효합니다.",
        "low":  "과거 분할상환 이력에서 연체 빈도가 낮아, 상환 일정 준수 측면은 비교적 안정적입니다."
    },
    "inst_delay_days_mean": {
        "high": "연체가 발생하면 기간이 길어지는 편이라, 단기 유동성 충격에 취약할 수 있습니다.",
        "low":  "연체가 발생하더라도 기간이 길지 않은 편이라, 회복 탄력성이 상대적으로 높습니다."
    },

    # -------------------------
    # 타사 대출/부채 부담
    # -------------------------
    "bu_cnt_active": {
        "high": "현재 유지 중인 타사 대출이 여러 건 존재해, 총부채 관리 관점의 점검이 필요합니다.",
        "low":  "현재 유지 중인 타사 대출 건수가 많지 않아, 총부채 측면의 부담이 상대적으로 제한적입니다."
    },
    "bu_ratio_active_loans": {
        "high": "대출 포트폴리오에서 현재 활성 대출 비중이 높아, 동시에 관리해야 할 상환 의무가 큰 편입니다.",
        "low":  "활성 대출 비중이 낮아, 현재 시점의 상환 의무가 상대적으로 분산/완화되어 있습니다."
    },
    "bu_total_debt_for_ratio": {
        "high": "타사 부채 규모가 비교적 큰 편이라, 부채 부담이 상환 여력에 영향을 줄 수 있습니다.",
        "low":  "타사 부채 규모가 크지 않은 편이라, 상환 여력에 대한 압박이 상대적으로 낮습니다."
    },
    "bu_any_over_limit_debt": {
        "high": "한도 초과(또는 과도한 부채 사용) 신호가 관측되어, 단기 부채 관리 리스크가 있을 수 있습니다.",
        "low":  "한도 초과에 가까운 부채 사용 신호가 크지 않아, 부채 관리 리스크가 상대적으로 낮습니다."
    },

    # -------------------------
    # 과거 신청/신청 성향 (previous_application 집계)
    # -------------------------
    "pre_approval_ratio": {
        "high": "과거 신청에서 승인 비율이 높은 편이라, 신청 패턴이 비교적 안정적입니다.",
        "low":  "과거 신청에서 비승인/거절 비율이 높아, 신청 이력의 변동성이 관측됩니다."
    },
    "pre_new_cnt": {
        "high": "최근 기간에 신규 신청/시도가 잦은 편이라, 자금 수요가 증가했을 가능성이 있습니다.",
        "low":  "최근 신규 신청/시도가 많지 않아, 신청 행태가 비교적 안정적입니다."
    },
    "pre_days_decision_mean": {
        "high": "과거 신청에서 심사 소요가 길어지는 경향이 있어, 서류/조건 확인 과정이 복잡했을 가능성이 있습니다.",
        "low":  "과거 신청에서 심사 소요가 길지 않아, 처리 과정이 비교적 매끄러운 편입니다."
    },
    "pre_credit_to_goods_mean": {
        "high": "신청 금액이 구매 목적(상품가) 대비 크게 잡히는 경향이 있어, 자금 사용 목적의 명확화가 도움이 됩니다.",
        "low":  "신청 금액이 구매 목적(상품가) 대비 과도하지 않아, 목적성 측면이 비교적 명확합니다."
    },

    # -------------------------
    # 외부평점/신용지표
    # -------------------------
    "ext_source_1": {
        "high": "외부 신용지표가 상대적으로 양호한 편으로, 대외 신용 관점의 안정성이 관측됩니다.",
        "low":  "외부 신용지표가 취약한 편으로, 대외 신용 관점에서 보수적 접근이 필요합니다."
    },
    "ext_source_2": {
        "high": "외부 신용지표가 상대적으로 양호한 편으로, 대외 신용 관점의 안정성이 관측됩니다.",
        "low":  "외부 신용지표가 취약한 편으로, 대외 신용 관점에서 보수적 접근이 필요합니다."
    },
    "ext_source_3": {
        "high": "외부 신용지표가 상대적으로 양호한 편으로, 대외 신용 관점의 안정성이 관측됩니다.",
        "low":  "외부 신용지표가 취약한 편으로, 대외 신용 관점에서 보수적 접근이 필요합니다."
    },

    # -------------------------
    # 소득/상환부담(앱 파생)
    # -------------------------
    "app_annuity_income_ratio": {
        "high": "소득 대비 월 상환 부담이 높은 편이라, 상환 여력의 여유가 크지 않을 수 있습니다.",
        "low":  "소득 대비 월 상환 부담이 낮은 편이라, 상환 여력의 완충 구간이 비교적 있습니다."
    },
    "app_payment_rate": {
        "high": "월 상환액이 대출 규모 대비 큰 편이라, 단기적으로 상환 압박이 높을 수 있습니다.",
        "low":  "월 상환액이 대출 규모 대비 과도하지 않아, 상환 스케줄이 비교적 완만할 수 있습니다."
    },
}
